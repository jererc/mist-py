{% extends "base.html" %}

{% block extra_js %}
<script src="{{ url_for('static', filename='add.js') }}" type="text/javascript"></script>
{% endblock %}

{% block content %}
<div class="content_form">
    <form>
        <p class="title">Add a user</p>
        <input type="hidden" name="type" value="user" />
        <table>
            <tr>
                <td class="details_title">name:</td>
                <td>
                    <input type="text" name="name" size="30" value="" />
                </td>
            </tr>
            <tr>
                <td class="details_title">username:</td>
                <td>
                    <input type="text" name="username" size="30" value="" />
                </td>
            </tr>
            <tr>
                <td class="details_title">password:</td>
                <td>
                    <input type="text" name="password" size="30" value="" />
                </td>
            </tr>
            <tr>
                <td class="details_title">port:</td>
                <td>
                    <input type="number" name="port" title="ssh port" size="2" min="1" max="65536" value="22" />
                </td>
            </tr>
        </table>

        <br>
        <button class="button" type="submit" value="add">add</button>

    </form>
</div>

<div class="content_form">
    <form>
        <p class="title">Add a sync</p>
        <input type="hidden" name="type" value="sync" />
        <table>
            <tr>
                {% for caption, type in [('source', 'src'), ('destination', 'dst')] %}
                    <td>
                        <p class="title2">{{ caption }}:</p>
                        <table>
                            <tr>
                                <td class="details_title">user:</td>
                                <td>
                                    <select title="user" name="{{ type }}_user">
                                        <option value="">any</option>
                                        {% for user in users %}
                                            <option value="{{ user._id }}">{{ user.name }}</option>
                                        {% endfor %}
                                    </select>
                                </td>
                            </tr>

                            {% for val in ['hwaddr', 'uuid', 'path'] %}
                                <tr>
                                    <td class="details_title">{{ val }}:</td>
                                    <td><input type="text" name="{{ type }}_{{ val }}" size="30" value="" /></td>
                                </tr>
                            {% endfor %}
                        </table>
                    </td>
                {% endfor %}
            </tr>
        </table>

        <p class="title2">options:</p>
        <table>
            <tr>
                <td class="details_title">exclusions:</td>
                <td><input type="text" name="exclusions" size="30" value="" /></td>
            </tr>
            <tr>
                <td class="details_title">delete:</td>
                <td><input type="checkbox" name="delete" checked="checked" title="delete removed files at destination" /></td>
            </tr>
            <tr>
                <td class="details_title">recurrence:</td>
                <td>
                    <input type="number" name="recurrence" title="sync recurrence (hours)" size="2" min="2" max="168" value="12" />
                </td>
            </tr>
            <tr>
                <td class="details_title">time range:</td>
                <td>
                    <input type="number" name="hour_start" title="hour before which the sync cant start" size="2" min="-1" max="23" value="-1" /> to
                    <input type="number" name="hour_end" title="hour after which the sync cant start" size="2" min="-1" max="23" value="-1" />
                </td>
            </tr>
        </table>

        <br>
        <button class="button" type="submit" value="add">add</button>

    </form>
</div>
{% endblock %}
