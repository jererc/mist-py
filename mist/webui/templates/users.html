{% extends "base.html" %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/users.js') }}" type="text/javascript"></script>
{% endblock %}

{% block content %}
<div class="content-new-trigger"></div>

<div class="content-div content-new element-highlight">
    <form>
        <table>
            <tr>
                <td class="title-td">
                    <span class="text-normal">Name</span>
                </td>
                <td><input class="input-text" type="text" name="name" placeholder="name" /></td>
            </tr>
            <tr>
                <td class="title-td">
                    <span class="text-normal">Username</span>
                </td>
                <td><input class="input-text" type="text" name="username" placeholder="ssh username" /></td>
            </tr>
            <tr>
                <td class="title-td">
                    <span class="text-normal">Password</span>
                </td>
                <td><input class="input-text" type="text" name="password" placeholder="ssh password" /></td>
            </tr>
            <tr>
                <td class="title-td">
                    <span class="text-normal">Port</span>
                </td>
                <td><input type="number" name="port" size="2" min="1" max="65536" value="22" /></td>
            </tr>
            {% for category in ('movies', 'tv', 'music') %}
                <tr>
                    <td class="title-td">
                        <span class="text-normal">Path to {{ category }}</span>
                    </td>
                    <td><input class="input-text" type="text" name="path_{{ category }}" placeholder="{{ category }} path" /></td>
                </tr>
            {% endfor %}
        </table>
    </form>

    <div class="element-actions-new">
        <a href=""><img class="img-button" src="{{ url_for('static', filename='img/add.png') }}" alt="add"></img></a>
    </div>
</div>

{% for item in items %}
    <div class="content-div content-element">
        <form>
            <input type="hidden" name="id" value="{{ item._id }}" />

            <div>
                <span class="user-status user-{{ item.status }}">{{ item.status }}</span>
                <span class="text-title">{{ item.name }}</span>
            </div>

            <div class="element-actions">
                <a href=""><img class="img-button save-action" src="{{ url_for('static', filename='img/save.png') }}" alt="update"></img></a>
                <a href=""><img class="img-button" src="{{ url_for('static', filename='img/edit.png') }}" alt="edit"></img></a>
                <a href=""><img class="img-button" src="{{ url_for('static', filename='img/remove.png') }}" alt="remove"></img></a>
            </div>

            <div class="element-edit">
                <table>
                    <tr>
                        <td class="title-td">
                            <span class="text-normal">Name</span>
                        </td>
                        <td><input class="input-text" type="text" name="name" value="{{ item.name }}" /></td>
                    </tr>
                    <tr>
                        <td class="title-td">
                            <span class="text-normal">Username</span>
                        </td>
                        <td><input class="input-text" type="text" name="username" value="{{ item.username }}" /></td>
                    </tr>
                    <tr>
                        <td class="title-td">
                            <span class="text-normal">Password</span>
                        </td>
                        <td><input class="input-text" type="text" name="password" value="{{ item.password }}" /></td>
                    </tr>
                    <tr>
                        <td class="title-td">
                            <span class="text-normal">Port</span>
                        </td>
                        <td><input type="number" name="port" size="2" min="1" max="65536" value="{% if item.port %}{{ item.port }}{% else %}22{% endif %}" /></td>
                    </tr>

                    {% for category in ('movies', 'tv', 'music') %}
                        <tr>
                            <td class="title-td">
                                <span class="text-normal">Path to {{ category }}</span>
                            </td>
                            <td><input class="input-text" type="text" name="path_{{ category }}" value="{{ item.paths[category] }}" /></td>
                        </tr>
                    {% endfor %}
                </table>
            </div>

        </form>
    </div>
{% endfor %}
{% endblock %}
